$(document).ready(function(){
(function(d){function G(a,b,c){for(var d=[],l,e=a.length,f=0;f<a.length;f++)l=new Image,d.push(l),l.onload=function(){--e;e==0&&b(c)},l.src=a[f];return d}var n=0;new Image;new Image;var f,g,u,j,k,v,C,p,i,h,w,x,y,z,A=!1,q=!1,E=!1,m,H,s,I,J,F,o,B,r,D=!1,t,e={init:function(a){a.settings.mode=="window"?(e.setupHTML({el:a.target,settings:a.settings}),e.setupStyles({el:a.target,settings:a.settings}),e.setupEvents({settings:a.settings})):a.settings.mode=="inner"?(e.setupHTMLInner({el:a.target,settings:a.settings}),
e.setupStylesInner({settings:a.settings}),e.setupEventsInner({settings:a.settings})):a.settings.mode=="controls"&&(e.setupHTMLControls({el:a.target,settings:a.settings}),e.setupStylesControls({settings:a.settings}),e.setupEventsControls({settings:a.settings}))},setupHTML:function(a){var b=a.el,a=a.settings,c=b.next(),e=c.hasClass("zoomwizard-large")?'<img class="'+c.attr("class")+' zoomwizard-large" src="'+c.attr("src")+'" alt="'+c.attr("alt")+'">':'<img class="'+b.attr("class")+' zoomwizard-large" src="'+
b.attr("src")+'" alt="'+b.attr("alt")+'">',l='<div class="zoomwizard-wrap zoomwizard-node" id="zoomwizard-wrap-'+n+'">';l+='\t<div class="zoomwizard-active-area"></div>';l+='\t\t<img class="'+b.attr("class")+' zoomwizard-thumb" src="'+b.attr("src")+'" alt="'+b.attr("alt")+'">';l+='\t\t<div class="zoomwizard-window zoomwizard-windowstyle-'+a.windowstyle+'">';a.windowstyle==3&&(l+='\t\t\t<div class="zoomwizard-window-inner"></div>');l+=e;l+="\t\t</div>";l+="</div>";b.parent();b.before(l).remove();i=
d("#zoomwizard-wrap-"+n);c.remove();n++},setupStyles:function(a){var a=a.settings,b=i,c=b.find("img").first().width(),d=b.find("img").first().height();C=b.find(".zoomwizard-window");p=C.find("img");b.find(".zoomwizard-active-area").css({width:c,height:d});b.css({width:c,height:d});C.css({width:a.width,height:a.height,left:-a.width/2,top:-a.height/2,"border-radius":a.radius,border:a.border});p.css({width:c*a.zoom,height:d*a.zoom});b.find("img").css({margin:0,"float":"none"});a.hidecursor&&(b.find(".zoomwizard-window").css({cursor:"none"}),
b.find(".zoomwizard-active-area").css({cursor:"none"}))},setupEvents:function(a){var b=a.settings;i.on("mouseover.zoomwizard",function(){i.data({windowmove:!0});D=!0;t=d(this);u=b.width;v=b.height});d(document).on("mousemove.zoomwizard",function(a){D&&(t.hasClass("init")||e.initHoverState({wrapper:t,settings:b}),C.css({left:a.pageX-f-u/2,top:a.pageY-g-v/2,display:"block"}),p.css({left:-((a.pageX-f)*b.zoom-u/2),top:-((a.pageY-g)*b.zoom-v/2)}));D&&!e.isWithinArea({ev:a,area:t})&&(t.removeClass("init"),
D=!1,t.find(".zoomwizard-window").hide())})},initHoverState:function(a){var b=a.wrapper,a=a.settings;b.addClass("init");h=b.find(".zoomwizard-thumb");p=b.find(".zoomwizard-large");j=h.width();k=h.height();p.css({width:j*a.zoom,height:k*a.zoom});a.margin==0?(f=h.offset().left+a.margin,g=h.offset().top+a.margin,factorX=3*(j*a.zoom-j)/(j*a.zoom),factorY=3*(k*a.zoom-k)/(k*a.zoom)):(f=h.offset().left,g=h.offset().top,factorX=(a.zoom-1)*(j/(j-a.margin*2)),factorY=(a.zoom-1)*(k/(k-a.margin*2)));console.log(factorX,
factorY)},setupHTMLControls:function(a){var b=a.el,a=a.settings;b.parent().find(".zoomwizard-large").remove();var c='<div class="zoomwizard-wrap zoomwizard-node" id="zoomwizard-wrap-'+n+'">';c+='\t<div class="zoomwizard-controls-wrap zoomwizard-style-'+a.controlstyle+'">';a.slider==!0&&(c+='\t\t<div class="zoomwizard-controls-block zoomwizard-controls-block-slider">',c+='\t\t\t<div class="zoomwizard-slidebar">',c+='\t\t\t\t<div class="zoomwizard-slidebar-skin"></div>',c+='\t\t\t\t<div class="zoomwizard-slider"></div>',
c+="\t\t\t</div>",c+="\t\t</div>");a.movegizmo==!0&&(c+='\t\t<div class="zoomwizard-controls-block">',c+='\t\t\t<div class="zoomwizard-moveup zoomwizard-button"></div>',c+='\t\t\t<div class="zoomwizard-movedown zoomwizard-button"></div>',c+='\t\t\t<div class="zoomwizard-moveleft zoomwizard-button"></div>',c+='\t\t\t<div class="zoomwizard-moveright zoomwizard-button"></div>',c+="\t\t</div>");a.zoombuttons==!0&&(c+='\t\t<div class="zoomwizard-controls-block zoomwizard-controls-block-zoom">',c+='\t\t\t<div class="zoomwizard-plus zoomwizard-button"></div>',
c+='\t\t\t<div class="zoomwizard-minus zoomwizard-button"></div>',c+="\t\t</div>");c+="\t</div>";c+='\t<img class="'+b.attr("class")+' zoomwizard-img" src="'+b.attr("src")+'" alt="'+b.attr("alt")+'">';c+="</div>";b.before(c).remove();i=d("#zoomwizard-wrap-"+n);n++},setupStylesControls:function(a){var a=a.settings,b=i,c=b.find(".zoomwizard-img");b.css({overflow:"hidden",width:c.width(),height:c.height()});c.css({position:"absolute","z-index":9998,left:0,top:0,cursor:"move"});a.autohide&&b.find(".zoomwizard-controls-wrap").hide();
b.find(".zoomwizard-button");b.find(".zoomwizard-slider").css({top:b.find(".zoomwizard-slidebar").height()})},setupEventsControls:function(a){var b=a.settings;i.find("img").each(function(){B=d(this).closest(".zoomwizard-wrap").find(".zoomwizard-slidebar");d(this).data({zoom:1,width:d(this).width(),height:d(this).height(),"factor-left":1,"factor-top":1,zoomfactor:B.height()/(b.maxzoom-1),"offset-left":0,"offset-top":0})});i.mousewheel(function(a,f){var l=d(this).find("img");l.data({zoom:e.lim.call(this,
{val:l.data("zoom")+f*0.1,min:1,max:parseInt(b.maxzoom)})});e.zoomImg({target:l,settings:b});e.updateSliderPosition({img:l,animated:b.animated});return!1});i.on("mousedown.zoomwizard",function(a){m=d(this).find("img");if(m.data("zoom")!=1)A=!0,H=a.pageX,s=a.pageY,I=m.position().left,J=m.position().top,u=m.closest(".zoomwizard-wrap").width(),v=m.closest(".zoomwizard-wrap").height();return!1});i.on("mousemove.zoomwizard",function(a){d(this).find(".zoomwizard-controls-wrap").fadeIn(200);A&&!q&&(f=e.lim.call(this,
{val:I+(a.pageX-H),min:-m.width()+u,max:0}),g=e.lim.call(this,{val:J+(a.pageY-s),min:-m.height()+v,max:0}),m.css({left:f,top:g}),m.data({"factor-left":2*-f/(m.width()-m.data("width"))}),m.data({"factor-top":2*-g/(m.height()-m.data("height"))}));q&&(E=!0,o.css({top:e.lim.call(this,{val:F+(a.pageY-s),min:0,max:B.height()})}),r.data({zoom:1+(B.height()-o.position().top)/r.data("zoomfactor")}),e.zoomImg({target:r,settings:b}));return!1});i.on("mouseup.zoomwizard",function(){E=q=A=!1});if(b.autohide)i.on("mouseout.zoomwizard",
function(a){e.isWithinArea.call(this,{ev:a,area:d(".zoomwizard-wrap")})||d(this).find(".zoomwizard-controls-wrap").fadeOut(200)});d(document).on("mouseup.zoomwizard",function(){A=q=!1});if(b.movegizmo==!0)i.find(".zoomwizard-button").on("click.zoomwizard",function(){var a=d(this).closest(".zoomwizard-wrap").find("img");d(this).hasClass("zoomwizard-moveup")?e.moveImg.call(this,{target:a,directionLeft:0,directionTop:1,settings:b}):d(this).hasClass("zoomwizard-movedown")?e.moveImg.call(this,{target:a,
directionLeft:0,directionTop:-1,settings:b}):d(this).hasClass("zoomwizard-moveleft")?e.moveImg.call(this,{target:a,directionLeft:1,directionTop:0,settings:b}):d(this).hasClass("zoomwizard-moveright")&&e.moveImg.call(this,{target:a,directionLeft:-1,directionTop:0,settings:b})});if(b.zoombuttons==!0)i.find(".zoomwizard-button").on("click.zoomwizard",function(){var a=d(this).closest(".zoomwizard-wrap").find("img");d(this).hasClass("zoomwizard-plus")?(a.data({zoom:a.data("zoom")*1.33}),a.data("zoom")*
1.33<b.maxzoom?a.data({zoom:a.data("zoom")*1.33}):a.data({zoom:b.maxzoom}),e.zoomImg({target:a,settings:b})):d(this).hasClass("zoomwizard-minus")&&(a.data({zoom:a.data("zoom")*0.66}),a.data("zoom")*0.66>1?a.data({zoom:a.data("zoom")*0.66}):a.data({zoom:1}),e.zoomImg({target:a,settings:b}));e.updateSliderPosition.call(this,{img:d(this).closest(".zoomwizard-wrap").find("img").first(),animated:b.animated})});b.slider==!0&&(i.find(".zoomwizard-slidebar").on("mousedown.zoomwizard",function(a){q=!0;s=a.pageY;
o=d(this).find(".zoomwizard-slider");r=d(this).closest(".zoomwizard-wrap").find("img");o.css({top:s-o.parent().offset().top-o.height()/2});q&&(r.data({zoom:1+(B.height()-o.position().top+5)/r.data("zoomfactor")}),e.zoomImg({target:r,settings:b}));F=o.position().top;return!1}),i.find(".zoomwizard-slider").on("mousedown.zoomwizard",function(a){q=!0;s=a.pageY;o=d(this);r=d(this).closest(".zoomwizard-wrap").find("img");F=o.position().top;return!1}),i.find(".zoomwizard-slider").on("mouseup.zoomwizard",
function(){A=q=!1}))},updateSliderPosition:function(a){var b=a.img,a=a.animated,c=b.siblings(".zoomwizard-controls-wrap").find(".zoomwizard-slider");a?c.stop().animate({top:c.parent().height()+b.data("zoomfactor")*(1-b.data("zoom"))},200):c.css({top:c.parent().height()+b.data("zoomfactor")*(1-b.data("zoom"))})},setupHTMLInner:function(a){var a=a.el,b=a.next();if(b.hasClass("zoomwizard-large")){var c='<div class="zoomwizard-inner-wrap zoomwizard-node" id="zoomwizard-wrap-'+n+'">';c+='\t<div class="zoomwizard-inner-active-area"></div>';
c+='\t<img class="'+a.attr("class")+' zoomwizard-thumb" src="'+a.attr("src")+'" alt="'+a.attr("alt")+'">';c+='\t<img class="'+b.attr("class")+' zoomwizard-large" src="'+b.attr("src")+'" alt="'+b.attr("alt")+'">'}else a.attr("class"),a.attr("src"),a.attr("alt"),c='<div class="zoomwizard-inner-wrap" id="zoomwizard-wrap-'+n+'">',c+='\t<div class="zoomwizard-inner-active-area"></div>',c+='\t<img class="'+a.attr("class")+' zoomwizard-thumb zoomwizard-large" src="'+a.attr("src")+'" alt="'+a.attr("alt")+
'">';c+="</div>";a.before(c).remove();b.remove();i=d("#zoomwizard-wrap-"+n);n++},setupStylesInner:function(a){var a=a.settings,b=i;h=b.find(".zoomwizard-thumb");b.css({overflow:"hidden",position:"relative",width:h.width(),height:h.height(),background:"red"});h.css({position:"absolute",left:0,top:0});h.prev().css({width:h.width()-a.margin*2,height:h.height()-a.margin*2,position:"absolute","z-index":9999,left:a.margin,top:a.margin});b.find(".zoomwizard-large").css({position:"absolute","z-index":9998,
left:0,top:0})},setupEventsInner:function(a){var b=a.settings;i.on("mousemove.zoomwizard",function(a){var h=d(this);h.hasClass("init")||e.initHoverStateInner({wrapper:h,settings:b});b.margin==0?p.css({left:-((a.pageX-f)*factorX),top:-((a.pageY-g)*factorY)}):(w=a.pageX-f-b.margin,w=w<0?0:w,x=a.pageY-g-b.margin,x=x<0?0:x,y=-w*factorX,y=-y>j*b.zoom-j?-(j*b.zoom-j):y,z=-x*factorY,z=-z>k*b.zoom-k?-(k*b.zoom-k):z,p.css({left:y,top:z}))});i.on("mouseout.zoomwizard",function(){d(this).removeClass("init");
h.css({left:0,top:0,width:j,height:k})})},initHoverStateInner:function(a){var b=a.wrapper,a=a.settings;b.addClass("init");h=b.find(".zoomwizard-thumb");p=b.find(".zoomwizard-large");j=h.width();k=h.height();p.css({width:j*a.zoom,height:k*a.zoom});a.margin==0?(f=h.offset().left+a.margin,g=h.offset().top+a.margin,factorX=3*(j*a.zoom-j)/(j*a.zoom),factorY=3*(k*a.zoom-k)/(k*a.zoom)):(f=h.offset().left,g=h.offset().top,factorX=(a.zoom-1)*(j/(j-a.margin*2)),factorY=(a.zoom-1)*(k/(k-a.margin*2)))},zoomImg:function(a){var b=
a.settings,a=a.target;f=-(a.data("width")*a.data("zoom")-a.data("width"))/2;f*=a.data("factor-left");g=-(a.data("height")*a.data("zoom")-a.data("height"))/2;g*=a.data("factor-top");b.animated&&!E?a.stop().animate({width:a.data("width")*a.data("zoom"),height:a.data("height")*a.data("zoom"),left:f,top:g},200):a.css({width:a.data("width")*a.data("zoom"),height:a.data("height")*a.data("zoom"),left:f,top:g});a.data("zoom")==1&&(a.data({"factor-left":1}),a.data({"factor-top":1}))},moveImg:function(a){var b=
a.target,c=a.directionLeft,d=a.directionTop,a=a.settings;b.data("zoom")>1&&c!=0?(f=b.position().left+b.data("width")/6*c,f=f>0?0:f,f=f<b.closest(".zoomwizard-wrap").width()-b.width()?b.closest(".zoomwizard-wrap").width()-b.width():f):b.data("zoom")>1&&d!=0&&(g=b.position().top+b.data("height")/6*d,g=g>0?0:g,g=g<b.closest(".zoomwizard-wrap").height()-b.height()?b.closest(".zoomwizard-wrap").height()-b.height():g);b.data("zoom")>1&&(b.data({"offset-left":f,"offset-top":g}),b.data({"factor-left":2*-f/
(b.width()-b.data("width"))}),b.data({"factor-top":2*-g/(b.height()-b.data("height"))}),a.animated?b.animate({left:f,top:g},200):b.css({left:f,top:g}))},lim:function(a){if(a.val<a.min)a.val=a.min;else if(a.val>a.max)a.val=a.max;return a.val},setId:function(){var a=0;d(".zoomwizard-node").each(function(){a++});return a},isWithinArea:function(a){return a.ev.pageX<a.area.offset().left+a.area.width()&&a.ev.pageX>a.area.offset().left&&a.ev.pageY<a.area.offset().top+a.area.height()&&a.ev.pageY>a.area.offset().top?
!0:!1}};d.fn.extend({zoomwizard:function(a){var b=d.extend({mode:"window",movegizmo:!0,slider:!0,zoombuttons:!0,animated:!1,maxzoom:4,width:250,height:250,zoom:4,margin:20,autohide:!1,hidecursor:!0,controlstyle:1,windowstyle:2},a);return this.each(function(){d(this).next().hasClass("zoomwizard-large")?G([d(this).attr("src"),d(this).next().attr("src")],e.init,{target:d(this),settings:b}):G([d(this).attr("src")],e.init,{target:d(this),settings:b})})}});(function(a){function b(b){var c=b||window.event,
d=[].slice.call(arguments,1),e=0,f=0,g=0,b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(e=c.wheelDelta/120);c.detail&&(e=-c.detail/3);g=e;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e);void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120);d.unshift(b,e,f,g);return(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel=
{setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery)})(jQuery);
window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);typeof console.log==="object"?log.apply.call(console.log,console,a):console.log.apply(console,a)}};
(function(a){function c(){}for(var d="assert,clear,count,debug,dir,dirxml,error,exception,firebug,group,groupCollapsed,groupEnd,info,log,memoryProfile,memoryProfileEnd,profile,profileEnd,table,time,timeEnd,timeStamp,trace,warn".split(","),b;b=d.pop();)a[b]=a[b]||c})(function(){try{return console.log(),window.console}catch(a){return window.console={}}}());
(function(a){function e(b){b.attr("id")=="form-controls"&&(c="controls");b.attr("id")=="form-window"&&(c="window");b.attr("id")=="form-scale"&&(c="inner");b.find("input[type=text]").each(function(){a(this).attr("name")=="zoomlevel"&&(f=a(this).val());a(this).attr("name")=="width"&&(i=a(this).val());a(this).attr("name")=="height"&&(j=a(this).val());a(this).attr("name")=="maxzoom"&&(k=a(this).val());a(this).attr("name")=="margin"&&(l=a(this).val())});b.find("input[type=checkbox]").each(function(){a(this).attr("name")==
"hidecursor"&&(m=a(this).attr("checked")=="checked"?!0:!1);a(this).attr("name")=="animated"&&(n=a(this).attr("checked")=="checked"?!0:!1);a(this).attr("name")=="autohide"&&(o=a(this).attr("checked")=="checked"?!0:!1);a(this).attr("name")=="showslider"&&(p=a(this).attr("checked")=="checked"?!0:!1);a(this).attr("name")=="showzoom"&&(q=a(this).attr("checked")=="checked"?!0:!1);a(this).attr("name")=="showmove"&&(r=a(this).attr("checked")=="checked"?!0:!1)});b.find("select").each(function(){a(this).attr("name")==
"controlstyle"&&(s=parseInt(a(this).val()));a(this).attr("name")=="windowstyle"&&(t=parseInt(a(this).val()));a(this).attr("name")=="source"&&(u=a(this).val())})}function g(){var a="$('.zoomwizard').zoomwizard({ ";c=="window"&&(a+="mode: '"+c+"', ",a+="windowstyle: "+t+", ",a+="width: "+i+", ",a+="height: "+j+", ",a+="hidecursor: "+m+", ",a+="zoom: "+f);c=="controls"&&(a+="mode: '"+c+"', ",a+="slider: "+p+", ",a+="movegizmo: "+r+", ",a+="zoombuttons: "+q+", ",a+="maxzoom: "+k+", ",a+="autohide: "+
o+", ",a+="controlstyle: "+s+", ",a+="animated: "+n+" ");c=="inner"&&(a+="mode: "+c+", ",a+="margin: "+l+", ",a+="zoom: "+f);a+=" });";return a}var u=1,c="window",r=!0,p=!0,q=!0,n=!1,k=4,i=200,j=200,f=4,l=20,o=!1,m=!1,s=1,t=1,d=a("header").hasClass("setup")?"sample-setup":"sample",h=0;a(".jquery_zoom1 .zoomwizard").zoomwizard({mode:"controls"});a("#window-wrap .zoomwizard").zoomwizard({mode:"window"});a("#inner-wrap .zoomwizard").zoomwizard({mode:"inner"});e(a("#inner-wrap").siblings("form"));a("#inner-wrap").closest("article").find(".result").html(g());
e(a("#window-wrap").siblings("form"));a("#window-wrap").closest("article").find(".result").html(g());e(a(".jquery_zoom1").siblings("form"));a(".jquery_zoom1").closest("article").find(".result").html(g());a("input[type=button]").on("click",function(){e(a(this).closest("form"));var b=a(this).closest("article").find(".img-wrap");b.removeClass("zoomwizard-loaded");b.attr("id")=="controls-wrap"&&(h='<img src="img/'+d+'/img1-large.jpg" class="zoomwizard">');b.attr("id")=="window-wrap"&&(h=u==1?'<img src="img/'+
d+'/img2-large.jpg" class="zoomwizard">':'<img src="img/'+d+'/img2-small.jpg" class="zoomwizard"><img src="img/'+d+'/img2-large.jpg" class="zoomwizard-large">');b.attr("id")=="inner-wrap"&&(h=u==1?'<img src="img/'+d+'/img3-small.jpg" class="zoomwizard">':'<img src="img/'+d+'/img3-small.jpg" class="zoomwizard"><img src="img/'+d+'/img3-large.jpg" class="zoomwizard-large">');b.html(h);b.find(".zoomwizard").zoomwizard({mode:c,movegizmo:r,slider:p,zoombuttons:q,animated:n,maxzoom:k,width:i,height:j,zoom:f,
margin:l,autohide:o,hidecursor:m,controlstyle:s,windowstyle:parseInt(t)});a(this).closest("article").find(".result").html(g());return!1});a("form").on("submit",function(){return!1})})(jQuery);
});